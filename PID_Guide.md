#### 1、常用术语

* 被控对象：需要控制的对象，案例中指小球
* 目标值：期望被控对象达到的状态量，案例中指目标位置的坐标
* 反馈值：被控对象当前时刻的状态量，案例中指小球的实时位置坐标
* 输出量：PID的计算结果，案例中指控制力
* 误差：目标值-反馈值
* 稳态误差：系统稳定状态下仍存在的误差，如案例中加入干扰恒力后小球静止时仍存在的误差

- 阶跃输入：在稳定状态下目标值发生突然变化（上图目标值在0时刻由0跃升到虚线位置）
- 阶跃响应：阶跃输入后被控对象的跟随状态，能够代表系统的控制性能（上图彩色线条）
- 响应速度：阶跃输入后被控对象再次到达目标值的速度
- 超调量：阶跃输入后，被控对象到达目标值后超出目标值的距离

---

#### 2、PID计算过程



![](https://img-blog.csdnimg.cn/5d7f75bf0d8f4656bcfb30f7a683b4ce.png)

上图就是PID的信号框图，表示了PID的运行过程：

1. 为系统指定一个目标值
2. PID将目标值与被控对象当前的反馈量作差得到误差
3. PID将误差值分别经过三个环节计算得到输出分量，三个分量加起来得到PID的输出
4. 将PID的输出施加到被控对象上，使反馈量向目标值靠拢

---

#### 3、PID三个环节的作用

由控制小球案例我们可以总结出PID三个环节各自的主要作用和效应：

- 比例环节：起主要控制作用，使反馈量向目标值靠拢，但可能导致振荡
- 积分环节：消除稳态误差，但会增加超调量
- 微分环节：产生阻尼效果，抑制振荡和超调，但会降低响应速度

---

#### 4、PID中物理量的设计

我们在设计PID时主要关注三个量：目标值、反馈值、输出值，PID会根据目标值和反馈值计算输出值。

需要强调的是，PID的整个计算过程其实与被控对象是什么完全没有关系，它只是负责进行数值计算，而我们——作为控制系统的设计者，就需要为PID指定这三个量所对应的实际物理量，这在不同的控制系统中是不一样的。

那么如何确定实际物理量呢，我为大家总结了一个常用准则：

* 目标值和反馈值通常为同种物理量，就是你需要控制的物理量
* 输出值通常是直接驱动被控对象的控制量
* 输出量作用在被控对象上需要经过时间积累才会产生反馈量的变化，换言之输出值通常为反馈值对于时间的低阶物理量。比如：目标/反馈值为位置，则输出值可以为速度或加速度
* 对于线性关系的两个物理量（只差一个系数），可以直接替换。比如：目标/反馈值为位置，输出值可以为加速度，但我们无法直接控制加速度而是控制驱动力大小，由于驱动力与加速度只差一个系数（F=ma），因此可以将输出值直接定为驱动力

`任务：对电机转速进行控制`

```
可用条件：已知电机的实时转速，并且可控制电机中流过的电流大小

PID目标值：需要电机达到的转速

PID反馈值：电机的实时转速

PID输出值：电机中流过的电流大小

分析：电机中流过的电流大小近似正比于电机的扭矩，也就近似正比于电机角加速度的大小，是转速的低阶物理量，因此可以用电流大小作为输出值
```

